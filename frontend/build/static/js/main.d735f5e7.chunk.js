(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{24:function(e,t,n){},33:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(1),s=n.n(i),o=n(26),a=n.n(o),r=(n(33),n(14)),l=n(13),d=(n(24),n(8)),h=n(9),j=n(11),u=n(10),b=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(d.a)(this,n);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={credentials:{username:"",password:""}},e.login=function(t){console.log(e.state.credentials),fetch("http://127.0.0.1:8000/auth/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.state.credentials)}).then((function(e){return e.json()})).then((function(t){return e.props.userLogin(t.token)})).catch((function(e){return console.error(e)}))},e.inputChanged=function(t){var n=e.state.credentials;n[t.target.name]=t.target.value,e.setState({credentials:n})},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Login User Form"}),Object(c.jsxs)("label",{children:["Username:",Object(c.jsx)("input",{type:"text",name:"username",value:this.state.credentials.username,onChange:this.inputChanged})]}),Object(c.jsx)("br",{}),Object(c.jsxs)("label",{children:["Password:",Object(c.jsx)("input",{type:"password",name:"password",value:this.state.credentials.password,onChange:this.inputChanged})]}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{onClick:this.login,children:"Login"})]})}}]),n}(i.Component),p=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(d.a)(this,n);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={credentials:{username:"",password:""}},e.register=function(t){console.log(e.state.credentials),fetch("http://127.0.0.1:8000/myapi/users/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.state.credentials)}).then((function(e){return e.json()})).then((function(e){console.log(e.token)})).then((function(){return alert("Successfully Registered, Please Login")})).catch((function(e){return console.error(e)}))},e.inputChanged=function(t){var n=e.state.credentials;n[t.target.name]=t.target.value,e.setState({credentials:n})},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Register User Form"}),Object(c.jsxs)("label",{children:["Username:",Object(c.jsx)("input",{type:"text",name:"username",value:this.state.credentials.username,onChange:this.inputChanged})]}),Object(c.jsx)("br",{}),Object(c.jsxs)("label",{children:["Password:",Object(c.jsx)("input",{type:"password",name:"password",value:this.state.credentials.password,onChange:this.inputChanged})]}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{onClick:this.register,children:"Register"})]})}}]),n}(i.Component),O=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(d.a)(this,n);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={books:[]},e.loadBooks=function(){console.log(e.state.credentials),fetch("http://127.0.0.1:8000/myapi/books/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e.props.token)},body:JSON.stringify(e.state.credentials)}).then((function(e){return e.json()})).then((function(t){e.setState({books:t})})).catch((function(e){return console.error(e)}))},e}return Object(h.a)(n,[{key:"render",value:function(){return this.props.token?Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Books Page"}),this.state.books.map((function(e){return Object(c.jsx)("h3",{children:e.title},e.id)})),Object(c.jsx)("button",{onClick:this.loadBooks,children:"Load Books"})]}):Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Please Login if you don't have an Account Please Reigister!"})})}}]),n}(i.Component);function f(e){var t=e.bug,n=e.index,i=e.completeBug,s=e.deleteBug;return Object(c.jsxs)("div",{style:{textDecoration:t.isCompleted?"line-through":""},className:"bug",children:[t.text,Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{onClick:function(){return i(n)},children:"Complete"}),Object(c.jsx)("button",{onClick:function(){return s(n)},children:"X"})]})]})}function m(e){var t=e.addBug,n=Object(i.useState)(""),s=Object(l.a)(n,2),o=s[0],a=s[1];return Object(c.jsx)("form",{onSubmit:function(e){e.preventDefault(),o&&(t(o),a(""))},children:Object(c.jsx)("input",{type:"text",className:"input",placeholder:"Add Bug...",value:o,onChange:function(e){return a(e.target.value)}})})}var x=function(){var e=Object(i.useState)([{text:"Do mobile update on projects",isCompleted:!1},{text:"Work on login for blog",isCompleted:!1},{text:"Connect to the backend with Django",isCompleted:!1}]),t=Object(l.a)(e,2),n=t[0],s=t[1],o=function(e){var t=Object(r.a)(n);t[e].isCompleted=!0,s(t)},a=function(e){var t=Object(r.a)(n);t.splice(e,1),s(t)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Bugs Component"})}),Object(c.jsx)("div",{className:"app",children:Object(c.jsxs)("div",{className:"bug-list",children:[n.map((function(e,t){return Object(c.jsx)(f,{index:t,bug:e,completeBug:o,deleteBug:a},t)})),Object(c.jsx)(m,{addBug:function(e){var t=[].concat(Object(r.a)(n),[{text:e}]);s(t)}})]})})]})},g=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(d.a)(this,n);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={heros:[]},e.loadHeros=function(){console.log(e.state.credentials),fetch("http://127.0.0.1:8000/myapi/heros/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e.props.token)},body:JSON.stringify(e.state.credentials)}).then((function(e){return e.json()})).then((function(t){e.setState({heros:t})})).catch((function(e){return console.error(e)}))},e}return Object(h.a)(n,[{key:"render",value:function(){return this.props.token?Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Heros Page"}),this.state.heros.map((function(e){return Object(c.jsx)("h3",{children:e.name},e.id)})),Object(c.jsx)("button",{onClick:this.loadHeros,children:"Load Heros"})]}):Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Please Login if you don't have an Account Please Reigister!"})})}}]),n}(i.Component);var v=function(){return Object(c.jsx)("h1",{children:"Sorry No Match, Please Try Again"})},k=n(7),y=n(2);var C=function(){return Object(c.jsx)("h1",{children:"Home Component"})},S=n(23),w=n(12),T=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(e){var c;return Object(d.a)(this,n),(c=t.call(this,e)).state={todoList:[],activeItem:{id:null,title:"",completed:!1},editing:!1},c.fetchTasks=c.fetchTasks.bind(Object(w.a)(c)),c.handleChange=c.handleChange.bind(Object(w.a)(c)),c.handleSubmit=c.handleSubmit.bind(Object(w.a)(c)),c.getCookie=c.getCookie.bind(Object(w.a)(c)),c.startEdit=c.startEdit.bind(Object(w.a)(c)),c.deleteItem=c.deleteItem.bind(Object(w.a)(c)),c.strikeUnstrike=c.strikeUnstrike.bind(Object(w.a)(c)),c}return Object(h.a)(n,[{key:"getCookie",value:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),c=0;c<n.length;c++){var i=n[c].trim();if(i.substring(0,e.length+1)===e+"="){t=decodeURIComponent(i.substring(e.length+1));break}}return t}},{key:"componentWillMount",value:function(){this.fetchTasks()}},{key:"fetchTasks",value:function(){var e=this;console.log("Fetching..."),fetch("https://evening-atoll-03641.herokuapp.com/myapi/task-list/").then((function(e){return e.json()})).then((function(t){return e.setState({todoList:t})}))}},{key:"handleChange",value:function(e){var t=e.target.name,n=e.target.value;console.log("Name:",t),console.log("Value:",n),this.setState({activeItem:Object(S.a)(Object(S.a)({},this.state.activeItem),{},{title:n})})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),console.log("ITEM:",this.state.activeItem);var n=this.getCookie("csrftoken"),c="https://evening-atoll-03641.herokuapp.com/myapi/task-create/";!0===this.state.editing&&(c="https://evening-atoll-03641.herokuapp.com/myapi/task-update/".concat(this.state.activeItem.id,"/"),this.setState({editing:!1})),fetch(c,{method:"POST",headers:{"Content-type":"application/json","X-CSRFToken":n},body:JSON.stringify(this.state.activeItem)}).then((function(e){t.fetchTasks(),t.setState({activeItem:{id:null,title:"",completed:!1}})})).catch((function(e){console.log("ERROR:",e)}))}},{key:"startEdit",value:function(e){this.setState({activeItem:e,editing:!0})}},{key:"deleteItem",value:function(e){var t=this,n=this.getCookie("csrftoken");fetch("https://evening-atoll-03641.herokuapp.com/myapi/task-delete/".concat(e.id,"/"),{method:"DELETE",headers:{"Content-type":"application/json","X-CSRFToken":n}}).then((function(e){t.fetchTasks()}))}},{key:"strikeUnstrike",value:function(e){var t=this;e.completed=!e.completed;var n=this.getCookie("csrftoken"),c="https://evening-atoll-03641.herokuapp.com/myapi/task-update/".concat(e.id,"/");fetch(c,{method:"POST",headers:{"Content-type":"application/json","X-CSRFToken":n},body:JSON.stringify({completed:e.completed,title:e.title})}).then((function(){t.fetchTasks()})),console.log("TASK:",e.completed)}},{key:"render",value:function(){var e=this.state.todoList,t=this;return Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{id:"task-container",children:[Object(c.jsx)("div",{id:"form-wrapper",children:Object(c.jsx)("form",{onSubmit:this.handleSubmit,id:"form",children:Object(c.jsxs)("div",{className:"flex-wrapper",children:[Object(c.jsx)("div",{style:{flex:6},children:Object(c.jsx)("input",{onChange:this.handleChange,className:"form-control",id:"title",value:this.state.activeItem.title,type:"text",name:"title",placeholder:"Add task.."})}),Object(c.jsx)("div",{style:{flex:1},children:Object(c.jsx)("input",{id:"submit",className:"btn btn-warning",type:"submit",name:"Add"})})]})})}),Object(c.jsx)("div",{id:"list-wrapper",children:e.map((function(e,n){return Object(c.jsxs)("div",{className:"task-wrapper flex-wrapper",children:[Object(c.jsx)("div",{onClick:function(){return t.strikeUnstrike(e)},style:{flex:7},children:!1===e.completed?Object(c.jsx)("span",{children:e.title}):Object(c.jsx)("strike",{children:e.title})}),Object(c.jsx)("div",{style:{flex:1},children:Object(c.jsx)("button",{onClick:function(){return t.startEdit(e)},className:"btn btn-sm btn-outline-info",children:"Edit"})}),Object(c.jsx)("div",{style:{flex:1},children:Object(c.jsx)("button",{onClick:function(){return t.deleteItem(e)},className:"btn btn-sm btn-outline-dark delete",children:"Remove"})})]},n)}))})]})})}}]),n}(s.a.Component);var B=function(){var e=Object(i.useState)(window.matchMedia("(max-width:768px)").matches),t=Object(l.a)(e,2),n=t[0],s=t[1];Object(i.useEffect)((function(){window.addEventListener("resize",(function(){s(window.matchMedia("(max-width:768px)").matches)}))}),[]);var o=Object(i.useState)([{text:"Do mobile update on projects",isCompleted:!1},{text:"Work on login for blog",isCompleted:!1},{text:"Connect to the backend with Django",isCompleted:!1}]),a=Object(l.a)(o,2),d=a[0],h=a[1],j=Object(i.useState)(""),u=Object(l.a)(j,2),f=u[0],m=u[1],S=function(e){m(e),console.log(e)},w=function(e){var t=[].concat(Object(r.a)(d),[{text:e}]);h(t)},B={position:"absolute",right:"5px",top:"8%",listStyle:"none"},N={textAlign:"center",background:"white",borderRadius:"3px",marginBottom:"8px",padding:"5px"},I=function(e){var t=e.style;return Object(c.jsxs)("ul",{style:t,children:[Object(c.jsx)("li",{style:N,children:Object(c.jsx)(k.b,{to:"/",children:"Home"})}),Object(c.jsx)("li",{style:N,children:Object(c.jsx)(k.b,{to:"/tasks",children:"Tasks"})}),Object(c.jsx)("li",{style:N,children:Object(c.jsx)(k.b,{to:"/heros",children:"Heros"})}),Object(c.jsx)("li",{style:N,children:Object(c.jsx)(k.b,{to:"/books",children:"Books"})}),Object(c.jsx)("li",{style:N,children:Object(c.jsx)(k.b,{to:"/login",children:"Login"})}),Object(c.jsx)("li",{style:N,children:Object(c.jsx)(k.b,{to:"/register",children:"Register"})}),Object(c.jsx)("li",{style:N,children:Object(c.jsx)(k.b,{to:"/bugs",children:"BugForm"})})]})},L=function(){var e=Object(i.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("button",{onClick:function(){s(!n)},children:[n?"Close":"Show"," Menu"]}),n&&Object(c.jsx)(I,{style:B})]})};return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(k.a,{children:[Object(c.jsxs)("nav",{style:{display:"grid",gridTemplateColumns:"50% 50%",alignItems:"center"},children:[Object(c.jsx)("h1",{children:"Bug Tracker"}),n?Object(c.jsx)(L,{}):Object(c.jsx)(I,{style:{display:"flex",justifyContent:"space-between",listStyle:"none",paddingRight:"10px"}})]}),Object(c.jsxs)(y.c,{children:[Object(c.jsx)(y.a,{exact:!0,path:"/",component:C}),Object(c.jsx)(y.a,{path:"/tasks",component:T}),Object(c.jsx)(y.a,{path:"/books",render:function(){return Object(c.jsx)(O,{token:f})}}),Object(c.jsx)(y.a,{path:"/heros",render:function(){return Object(c.jsx)(g,{token:f})}}),Object(c.jsx)(y.a,{exact:!0,path:"/login",render:function(){return Object(c.jsx)(b,{userLogin:S})}}),Object(c.jsx)(y.a,{exact:!0,path:"/register",render:function(){return Object(c.jsx)(p,{userLogin:S})}}),Object(c.jsx)(y.a,{path:"/bugs",render:function(){return Object(c.jsx)(x,{addBug:w})}}),Object(c.jsx)(y.a,{path:"*",component:v})]})]})})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),i(e),s(e),o(e)}))};a.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(B,{})}),document.getElementById("root")),N()}},[[39,1,2]]]);
//# sourceMappingURL=main.d735f5e7.chunk.js.map